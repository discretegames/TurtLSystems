<!-- markdownlint-disable MD033 -->
# **[TurtLSystems][pypi]**

*In development. Project is not fully tested.*

[TurtLSystems][pypi] is a Python 3 package for drawing [L-systems][wiki] via [turtle graphics][turtle]
with easy ways to output png images and gif animations of the patterns generated.
L-systems or Lindenmayer systems are a simple string rewriting systems where every character in an initial start
string is repeatedly overwritten with a predetermined replacement. This can lead to very elaborate patterns that mimic
nature or create fractals.

[![Sierpinski arrowhead curve example gif][example]][example]

<!-- markdownlint-disable-next-line MD025 -->
# Installation (supports Python 3.6+)

Make sure you have [Python][py] installed then run this command in a terminal:

```text
pip install turtlsystems
```

If that doesn't work try one of the following lines:

```text
pip3 install turtlsystems
python -m pip install turtlsystems
python3 -m pip install turtlsystems
py -m pip install turtlsystems
```

For png and gif output you need the [Ghostscript][gs] conversion tool which can be downloaded [here][gsd]. Ghostscript is
what takes the .eps files generated by turtle graphics and turns them into pngs which are then made into gifs.

[TurtLSystems on PyPI][pypi]  | [TurtLSystems on GitHub][gh] | [Ghostscript Download][gsd]

<!-- markdownlint-disable-next-line MD025 -->
# Usage

TurtLSystems has only four function, [`init`][init], [`draw`][draw], [`wait`][wait], and [`lsystem`][lsystem],
and only the `draw` function is strictly necessary.

The code that generated [the blue gif][example] of the [Sierpinski arrowhead curve][arrowhead] above is simply:

```py
from turtlsystems import *
draw('+A', 'A B-A-B B A+B+A,', 5, 60, 7, 2, (200, 220, 255), None, (36, 8, 107),
     red_increment=2, gif='example.gif', max_frames=250, duration=30)
```

## Init

Initializes global TurtLSystems properties.
Calling this is optional and only needed when customization is desired.
If used it should only be called once and placed before all calls to `draw` and `wait`.

Returns nothing.

### Arguments

| Name /<br>Default /<br>Type | Description |
| ----------------------- | ----------- |
| `window_size`<br>`(0.75, 0.75)`<br>`Tuple[int \| float, int \| float]` | The size of the window. Use integers for pixel dimensions. Use floats for a percentage of the screen size.
| `window_title`<br>`"TurtLSystems"`<br>`str` | The title of the window.
| `background_color`<br>`(0, 0, 0)`<br>`Tuple[int, int, int]` | The background color of the window. A 0-255 rgb tuple. May be changed later by draw calls.
| `background_image`<br>`None`<br>`str \| None` | The file path to a background image for the window.
| `window_position`<br>`None`<br>`Tuple[int \| None, int \| None] \| None` | The top and left screen coordinates of the window, or None for centered.
| `canvas_size`<br>`None`<br>`Tuple[int \| None, int \| None] \| None` | The size of the drawing canvas when an area larger than the window size is desired.
| `ghostscript`<br>`None`<br>`str \| None` | The path to or command name of ghostscript.             When None, an educated guess of the path is made on Windows and 'gs' is used on Mac/Linux.             Ghostscript is the image conversion tool required for png and gif output:             https://ghostscript.com/releases/gsdnld.html
| `logo_mode`<br>`False`<br>`bool` | Whether the turtle graphics coordinates mode is 'standard' or 'logo'. Defaults to standard.             In standard mode an angle of 0 points rightward and positive angles go counterclockwise.             In logo mode an angle of 0 points upward and positive angles go clockwise.
| `delay`<br>`None`<br>`int \| None` | The turtle graphics animation delay in milliseconds. None for default value.

## Draw

Opens a turtle graphics window and draws an L-system pattern based on the arguments provided.
When called multiple times all patterns are drawn to the same canvas.

All arguments are optional but `start` and `rules` are the most important because they define the L-system,
and `level` defines how many expansion steps take place. On an expansion step, every character in `start` is
replaced with what it maps to in `rules` (or left unchanged if not present) resulting in a new `start` string.
The characters of `start` after the last expansion are the instructions the turtle follows to draw a pattern.
See the `lsystem` function documentation for specifics on what each character does as an instruction.

Call `draw()` by itself to see an example Sierpinski triangle pattern.

In the descriptions below, "on X" is short for "when the character X is encountered in the L-system string".

### Positional Arguments

| Name<br>Default<br>Type | Description |
| ----------------------- | ----------- |
| `start`<br>`'F+G+G'`<br>`str` | The initial string or axiom of the L-system. Level 0.
| `rules`<br>`'F F+G-F-G+F G GG'`<br>`Dict[str, str] \| str` | Dictionary that maps characters to what they are replaced with in the L-system expansion step.             May also be a string where whitespace separated pairs of substrings correspond to the character and its             replacement. For example `{'A': 'AB', 'B': 'B+A'}` and `'A AB B B+A'` represent the same rules.
| `level`<br>`4`<br>`int` | The number of L-system expansion steps to take, i.e. how many times to apply `rules` to `start`.
| `angle`<br>`120`<br>`float` | The angle to turn by on `+` or `-`. In degrees by default but the `circle` arg can change that.
| `length`<br>`20`<br>`float` | The distance in pixels to move forward by on letters. The length step.
| `thickness`<br>`1`<br>`float` | The line width in pixels. May be any non-negative number.
| `color`<br>`(255, 255, 255)`<br>`Tuple[int, int, int] \| None` | The line color. A 0-255 rgb tuple or None to hide all lines. Reselected on `0`.
| `fill_color`<br>`(128, 128, 128)`<br>`Tuple[int, int, int] \| None` | The fill color for `{}` polygons, `@` dots, and turtle shapes. A 0-255 rgb tuple or None to hide all fills.             Reselected on `1`.
| `background_color`<br>`None`<br>`Tuple[int, int, int] \| None` | The background color of the window. A 0-255 rgb tuple or None to leave unchanged.

[pypi]: https://pypi.org/project/turtlsystems/
[tpypi]: https://test.pypi.org/project/turtlsystems/
[example]:  https://raw.githubusercontent.com/discretegames/turtlsystems/main/example.gif
[wiki]: https://en.wikipedia.org/wiki/L-system
[turtle]: https://docs.python.org/3/library/turtle.html
[gs]: https://ghostscript.com/
[gsd]: https://ghostscript.com/releases/gsdnld.html
[gh]: https://github.com/discretegames/turtlsystems
[init]: https://github.com/discretegames/turtlsystems#init
[draw]: https://github.com/discretegames/turtlsystems#draw
[wait]: https://github.com/discretegames/turtlsystems#wait
[lsystem]: https://github.com/discretegames/turtlsystems#lsystem
[arrowhead]: https://en.wikipedia.org/wiki/Sierpi%C5%84ski_curve#Arrowhead_curve
[py]: https://www.python.org/downloads/
